# Документация по безопасности

Дата: 20.02.2026  
Проект: Flowwow

## 1. Механизмы безопасности

**1.1. Аутентификация**
- Используется JWT‑токен для доступа к защищённым ресурсам.
- Токен передаётся в `Authorization: Bearer <token>`.

**1.2. Авторизация**
- Разграничение прав по ролям (пользователь/администратор).
- Админ‑эндпоинты доступны только администратору.

**1.3. Валидация входных данных**
- Используются аннотации в DTO:
  - Проверка типов и обязательности (`@NotNull`, `@NotBlank`).
  - Проверка длины (`@Size`).
  - Проверка формата (`@Email`, `@Pattern`).
- Валидация применяется для: регистрации, создания/обновления товара, заказа, отзывов.

**1.4. Защита от SQL‑инъекций**
- Доступ к данным через Spring Data JPA.
- Отсутствие ручной конкатенации SQL‑строк.
- Использование параметризованных запросов в репозиториях.

**1.5. Обработка ошибок**
- Глобальный обработчик исключений возвращает безопасные ответы (400/409/500).
- Служебная информация не выводится пользователю.

## 2. Реализованные меры (по результатам работ)

- Добавлены проверки и ограничения на DTO для ключевых операций.
- Добавлен `GlobalExceptionHandler` для безопасного ответа.
- В сервисах учтены проверки, чтобы исключить 500 на ошибках данных.

## 3. Рекомендации по дальнейшему усилению

- Лимитирование частоты запросов (rate‑limit) для логина/регистрации.
- Логирование отказов авторизации и подозрительных запросов.
- Сканирование зависимостей на уязвимости (OWASP Dependency Check).
- Автотесты на проверку разграничения прав.

