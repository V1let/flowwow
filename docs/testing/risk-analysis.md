# Анализ рисков и уязвимостей системы

Дата: 20.02.2026  
Проект: Flowwow  
Результат: описание проанализированных рисков

## 1. Перечень рисков

### Технические
- Сбой БД или потеря данных.
- Отказ бэкенда при высокой нагрузке.
- Ошибки миграций и рассинхронизация схемы.
- Отсутствие резервного копирования.

### Пользовательские
- Ошибки ввода (некорректный email/телефон/адрес).
- Неверные действия пользователя в админке.
- Случайное удаление сущностей.

### Риски безопасности
- Компрометация JWT.
- XSS через текстовые поля.
- Утечка персональных данных.
- Brute‑force входа.

### Организационные
- Отсутствие регламентов резервного копирования.
- Недостаток мониторинга и логирования.
- Недостаточная сегрегация ролей.

## 2. Таблица рисков, вероятности и ущерба

| ID | Риск | Категория | Вероятность | Ущерб | Уязвимость/причина | Меры снижения |
| --- | --- | --- | --- | --- | --- | --- |
| R‑01 | Потеря данных БД | Технический | Средняя | Высокий | Нет резервных копий | Регулярные бэкапы, тест восстановления |
| R‑02 | Падение API при нагрузке | Технический | Средняя | Высокий | Нет лимитов, нет кэша | Лимиты, кэширование, стресс‑тесты |
| R‑03 | Ошибки миграций | Технический | Низкая | Высокий | Ручные изменения схемы | Миграции (Flyway/Liquibase), код‑ревью |
| R‑04 | Некорректный ввод данных | Пользовательский | Высокая | Средний | Нет строгой валидации | Валидация, маски ввода, подсказки |
| R‑05 | Случайное удаление сущностей | Пользовательский | Средняя | Средний | Нет подтверждений/undo | Подтверждения, soft‑delete |
| R‑06 | Компрометация JWT | Безопасность | Низкая | Высокий | Утечка токена | HTTPS, короткий TTL, refresh‑токены |
| R‑07 | XSS через формы | Безопасность | Средняя | Высокий | Нет фильтрации | Санитизация, CSP, экранирование |
| R‑08 | Brute‑force логина | Безопасность | Средняя | Средний | Нет rate‑limit | Rate‑limit, блокировки, CAPTCHA |
| R‑09 | Утечка персональных данных | Безопасность | Низкая | Высокий | Слабый контроль доступа | Аудит прав, логирование доступа |
| R‑10 | Нет мониторинга | Организационный | Средняя | Средний | Не настроены алерты | Мониторинг, алерты, SLA |

## 3. Перечень уязвимостей системы

- Отсутствие лимитов на вход и запросы.
- Нет явного механизма refresh‑токенов.
- Возможные XSS‑риски в полях описаний/отзывов.
- Риск удаления данных без восстановления (нет soft‑delete для всех сущностей).

## 4. Меры по снижению рисков

### Технические
- Настроить резервное копирование и регулярный тест восстановления.
- Добавить кэширование и лимиты (rate‑limit).
- Использовать миграции схемы БД.

### Организационные
- Регламенты бэкапов, мониторинга, доступа.
- Процедуры управления инцидентами.

### Программные
- Валидация ввода на бэке и фронте.
- Санитизация данных и CSP.
- Ограничение JWT по времени, защита от повторного использования.

## 5. Итог

Риски и уязвимости идентифицированы, предложены меры снижения.  
Рекомендуется внедрить меры и повторно оценить риски после изменений.
