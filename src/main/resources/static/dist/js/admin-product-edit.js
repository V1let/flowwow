(()=>{function q(e){if(!e||typeof e!="string")return e;let t=e.trim();if(!t||/^(https?:)?\/\//i.test(t)||/^data:/i.test(t)||/^blob:/i.test(t))return t;let o="http://localhost:8080";return t.startsWith("/api/")?`${o}${t}`:t.startsWith("api/")?`${o}/${t}`:t}window.resolveAssetUrl=q;window.toastConfig={default:{maxMessageLength:160,showDelayMs:50,durationMs:2800,removeDelayMs:2800},admin:{maxMessageLength:160,showDelayMs:50,durationMs:2800,removeDelayMs:2800,top:"16px",right:"16px",maxWidth:"320px",padding:"10px 14px",borderRadius:"8px",fontSize:"14px",lineHeight:"1.35"}};function A(e){let t=e?window.toastConfig.admin:window.toastConfig.default,o=window.toastOverrides&&typeof window.toastOverrides=="object"?window.toastOverrides:{};return{...t,...o}}var y="3";window.showToast=function(t,o="success"){let n=window.location.pathname.includes("/other/admin"),s=A(n),i=String(t??"").replace(/\s+/g," ").trim().slice(0,s.maxMessageLength),r=document.createElement("div");r.className=`toast-notification ${o}`,r.textContent=i||"\u0413\u043E\u0442\u043E\u0432\u043E",n&&(r.classList.add("fw-admin-toast"),r.style.position="fixed",r.style.top=s.top,r.style.right=s.right,r.style.bottom="auto",r.style.left="auto",r.style.zIndex="10000",r.style.display="inline-block",r.style.height="auto",r.style.minHeight="0",r.style.maxHeight="none",r.style.maxWidth=s.maxWidth,r.style.width="auto",r.style.padding=s.padding,r.style.borderRadius=s.borderRadius,r.style.boxSizing="border-box",r.style.boxShadow="0 6px 18px rgba(0, 0, 0, 0.2)",r.style.color="#fff",r.style.fontWeight="500",r.style.fontSize=s.fontSize,r.style.lineHeight=s.lineHeight,r.style.whiteSpace="normal",r.style.overflowWrap="anywhere",r.style.wordBreak="break-word",r.style.opacity="0",r.style.transform="translateX(120%)",r.style.transition="opacity 0.25s ease, transform 0.25s ease"),document.body.appendChild(r),setTimeout(()=>{n?(r.style.opacity="1",r.style.transform="translateX(0)"):r.classList.add("show")},s.showDelayMs),setTimeout(()=>{n?(r.style.opacity="0",r.style.transform="translateX(120%)"):r.classList.remove("show"),setTimeout(()=>r.remove(),s.removeDelayMs)},s.durationMs)};document.addEventListener("DOMContentLoaded",()=>{document.body.classList.add("content-loaded");let e=document.getElementById("header-placeholder"),t=document.getElementById("footer-placeholder"),o=window.location.pathname.includes("/other/"),n="../",s=`fw_header_${y}`,i=`fw_footer_${y}`,r=sessionStorage.getItem(s),a=sessionStorage.getItem(i);r&&a&&(e.innerHTML=r,t.innerHTML=a),Promise.all([r?Promise.resolve(r):fetch(`${n}includes/header.html?v=${y}`).then(d=>d.text()),a?Promise.resolve(a):fetch(`${n}includes/footer.html?v=${y}`).then(d=>d.text())]).then(([d,c])=>{r||sessionStorage.setItem(s,d),a||sessionStorage.setItem(i,c),e.innerHTML=d,t.innerHTML=c;let f=document.getElementById("copyright-year");f&&(f.textContent=String(new Date().getFullYear())),x(),window.refreshCartState&&window.refreshCartState();let I=document.getElementById("hamburger"),S=document.getElementById("mobile-menu");I&&S&&I.addEventListener("click",()=>{S.classList.toggle("active")});let w=document.querySelector(".scroll-top");w&&(window.addEventListener("scroll",()=>{w.classList.toggle("visible",window.scrollY>400)}),w.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"})));let v=document.getElementById("auth-btn"),h=document.getElementById("user-sidebar"),E=document.getElementById("close-user-sidebar"),B=document.getElementById("user-logout");v&&h&&v.addEventListener("click",()=>{localStorage.getItem("isLoggedIn")==="true"?h.classList.add("active"):window.location.href="../other/login.html"}),E&&h&&E.addEventListener("click",()=>{h.classList.remove("active")}),B&&B.addEventListener("click",T=>{T.preventDefault(),confirm("\u0412\u044B\u0439\u0442\u0438 \u0438\u0437 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430?")&&(localStorage.removeItem("isLoggedIn"),localStorage.removeItem("jwtToken"),localStorage.removeItem("userName"),localStorage.removeItem("userRole"),window.location.href="../pages/index.html")})}).catch(d=>console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 header/footer:",d))});document.addEventListener("click",async e=>{let t=e.target.closest(".add-to-cart");if(!t)return;let o=t.dataset.id;!o||!window.toggleCartItem||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),await window.toggleCartItem(o,1))},!0);function x(){let e=localStorage.getItem("isLoggedIn")==="true",t=localStorage.getItem("userName")||"\u0413\u043E\u0441\u0442\u044C",o=localStorage.getItem("userRole")||"USER",n=document.getElementById("auth-text"),s=document.getElementById("user-display-name"),i=document.getElementById("user-avatar");n&&(n.textContent=e?t:"\u0412\u043E\u0439\u0442\u0438"),s&&(s.textContent=t);let r=document.getElementById("admin-panel-menu-item"),a=document.getElementById("desktop-admin-link"),d=document.getElementById("mobile-admin-menu-item"),c=e&&o==="ADMIN";r&&(r.style.display=c?"":"none"),a&&(a.style.display=c?"":"none"),d&&(d.style.display=c?"":"none"),i&&(o==="ADMIN"?i.src="https://randomuser.me/api/portraits/men/1.jpg":i.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(t)}&background=e83e8c&color=fff`)}function u(e,t){if(!e)return;let o=e.dataset.originalText||e.textContent.trim()||"\u0412 \u043A\u043E\u0440\u0437\u0438\u043D\u0443";e.dataset.originalText||(e.dataset.originalText=o),t?(e.textContent="\u0412 \u043A\u043E\u0440\u0437\u0438\u043D\u0435",e.classList.add("in-cart")):(e.textContent=e.dataset.originalText||"\u0412 \u043A\u043E\u0440\u0437\u0438\u043D\u0443",e.classList.remove("in-cart"))}function C(e,t){if(!e)return;let o=String(e);document.querySelectorAll(`.add-to-cart[data-id="${o}"]`).forEach(s=>{u(s,t)});let n=document.getElementById("add-to-cart-btn");n&&String(n.dataset.id)===o&&u(n,t)}function P(e){let t=document.getElementById("cart-count-sidebar");t&&(t.textContent=String(e??0))}window.applyCartState=function(t){if(!t){P(0),document.querySelectorAll(".add-to-cart").forEach(a=>u(a,!1));let r=document.getElementById("add-to-cart-btn");r&&u(r,!1);return}if(typeof t!="object"||(window.__lastCartState=t,t.totalItems!==void 0&&P(t.totalItems||0),!Array.isArray(t.items)))return;let o=t.items,n=new Set(o.map(r=>String(r.productId??""))),s=new Map(o.map(r=>[String(r.productId??""),String(r.id??"")]));window.__cartItemByProductId=s,document.querySelectorAll(".add-to-cart").forEach(r=>{let a=r.dataset.id;a&&u(r,n.has(String(a)))});let i=document.getElementById("add-to-cart-btn");i&&i.dataset.id&&u(i,n.has(String(i.dataset.id)))};window.toggleCartItem=async function(t,o=1){if(!t)return;if(!(typeof window.isLoggedIn=="function"?window.isLoggedIn():localStorage.getItem("isLoggedIn")==="true")){showToast("\u0412\u043E\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443","error"),window.location.href="../other/login.html";return}let i=(window.__cartItemByProductId||new Map).get(String(t));try{let r=null;i?(r=await window.api.removeFromCart(i),showToast("\u0422\u043E\u0432\u0430\u0440 \u0443\u0434\u0430\u043B\u0451\u043D \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B","info"),C(t,!1)):(r=await window.api.addToCart(t,o),showToast("\u0422\u043E\u0432\u0430\u0440 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443","success"),C(t,!0)),r&&window.applyCartState&&window.applyCartState(r),window.refreshCartState&&window.refreshCartState()}catch(r){showToast(r.message||"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u043A\u043E\u0440\u0437\u0438\u043D\u0443","error")}};window.refreshCartState=async function(){if(!(typeof window.isLoggedIn=="function"?window.isLoggedIn():localStorage.getItem("isLoggedIn")==="true")){window.applyCartState(null);return}try{if(window.api&&typeof window.api.getCart=="function"){let n=await window.api.getCart();n&&typeof n=="object"&&window.applyCartState(n);return}let o=await fetch("http://localhost:8080/api/cart",{headers:{Authorization:`Bearer ${localStorage.getItem("jwtToken")}`}});if(o.ok){let n=await o.json();n&&typeof n=="object"&&window.applyCartState(n)}else window.applyCartState(null)}catch(o){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u043A\u043E\u0440\u0437\u0438\u043D\u044B:",o),window.applyCartState(null)}};(function(){let t=window.location.hostname;if(!(t==="localhost"||t==="127.0.0.1")||document.querySelector("script[data-livereload]"))return;let n=document.createElement("script");n.src=`http://${t}:35729/livereload.js?snipver=1`,n.async=!0,n.setAttribute("data-livereload","true"),document.body.appendChild(n)})();var L="http://localhost:8080/api",O={get token(){return localStorage.getItem("jwtToken")},set token(e){e?localStorage.setItem("jwtToken",e):localStorage.removeItem("jwtToken")},headers(){let e={"Content-Type":"application/json"};return this.token&&(e.Authorization=`Bearer ${this.token}`),e},async request(e,t={}){let o=await fetch(L+e,{...t,headers:{...this.headers(),...t.headers}});if(o.status===401)throw this.token=null,localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userRole"),window.location.href="../other/login.html",new Error("Unauthorized");if(o.status===403)throw new Error("\u0414\u043E\u0441\u0442\u0443\u043F \u0437\u0430\u043F\u0440\u0435\u0449\u0451\u043D");if(!o.ok){let s=await o.text().catch(()=>"Unknown error");throw new Error(s||o.statusText)}if(o.status===204)return null;let n=await o.text();if(!n)return null;try{return JSON.parse(n)}catch{return n}},login(e){return this.request("/auth/login",{method:"POST",body:JSON.stringify(e)})},register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})},forgotPassword(e){return this.request("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:e})})},resetPassword(e,t){return this.request("/auth/reset-password",{method:"POST",body:JSON.stringify({token:e,newPassword:t})})},getProducts(e={}){let t=new URLSearchParams(e).toString();return this.request(`/products?${t}`)},getProductBySlug(e){return this.request(`/products/${e}`)},getProductById(e){return this.request(`/products/id/${e}`)},getHits(){return this.request("/products/hits")},getNew(){return this.request("/products/new")},getCategories(){return this.request("/categories")},getCategoryBySlug(e){return this.request(`/categories/${e}`)},getCategoryById(e){return this.request(`/categories/id/${e}`)},getCart(){return this.request("/cart")},addToCart(e,t=1){return this.request("/cart/items",{method:"POST",body:JSON.stringify({productId:e,quantity:t})})},updateCartItem(e,t){return this.request(`/cart/items/${e}?quantity=${t}`,{method:"PUT"})},removeFromCart(e){return this.request(`/cart/items/${e}`,{method:"DELETE"})},clearCart(){return this.request("/cart",{method:"DELETE"})},getFavorites(){return this.request("/favorites")},addToFavorite(e){return this.request(`/favorites/${e}`,{method:"POST"})},removeFromFavorite(e){return this.request(`/favorites/${e}`,{method:"DELETE"})},isFavorite(e){return this.request(`/favorites/check/${e}`)},getMyOrders(){return this.request("/orders/my")},getOrderById(e){return this.request(`/orders/${e}`)},createOrder(e){return this.request("/orders",{method:"POST",body:JSON.stringify(e)})},getProductReviews(e){return this.request(`/reviews/product/${e}`)},getRecentReviews(e=3){return this.request(`/reviews/recent?limit=${e}`)},createReview(e,t,o){let n=localStorage.getItem("userName")||"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C";return this.request("/reviews",{method:"POST",body:JSON.stringify({productId:e,authorName:n,rating:t,text:o})})},getTestimonials(){return this.request("/content/testimonials")},getTeamMembers(){return this.request("/content/team")},getBlogPosts(e=0,t=10){return this.request(`/content/blog?page=${e}&size=${t}`)},getBlogPostBySlug(e){return this.request(`/content/blog/${e}`)},getDashboard(){return this.request("/admin/dashboard")},getAdminProducts(){return this.request("/admin/products")},getArchivedAdminProducts(){return this.request("/admin/products/archive")},createProduct(e){return this.request("/admin/products",{method:"POST",body:JSON.stringify(e)})},updateProduct(e,t){return this.request(`/admin/products/${e}`,{method:"PUT",body:JSON.stringify(t)})},updateProductPartial(e,t){return this.request(`/admin/products/${e}`,{method:"PATCH",body:JSON.stringify(t)})},uploadProductImage(e,t,o=!1){let n=new FormData;return n.append("file",t),n.append("isMain",o?"true":"false"),fetch(`${L}/products/${e}/images/upload`,{method:"POST",headers:this.token?{Authorization:`Bearer ${this.token}`}:{},body:n}).then(async s=>{if(!s.ok){let i=await s.text().catch(()=>"Upload error");throw new Error(i||s.statusText)}return s.json()})},deleteProduct(e){return this.request(`/admin/products/${e}`,{method:"DELETE"})},restoreProduct(e){return this.request(`/admin/products/${e}/restore`,{method:"POST"})},getAdminOrders(e=0,t=10){return this.request(`/admin/orders?page=${e}&size=${t}`)},getAdminOrderById(e){return this.request(`/admin/orders/${e}`)},updateOrderStatus(e,t){return this.request(`/admin/orders/${e}/status?status=${t}`,{method:"PUT"})},getAdminCategories(){return this.request("/admin/categories")},createCategory(e){return this.request("/admin/categories",{method:"POST",body:JSON.stringify(e)})},updateCategory(e,t){return this.request(`/admin/categories/${e}`,{method:"PUT",body:JSON.stringify(t)})},deleteCategory(e){return this.request(`/admin/categories/${e}`,{method:"DELETE"})},getAdminUsers(e=0,t=10){return this.request(`/admin/users?page=${e}&size=${t}`)},updateUserStatus(e,t){return this.request(`/admin/users/${e}/status?isActive=${t}`,{method:"PUT"})},deleteUser(e){return this.request(`/admin/users/${e}`,{method:"DELETE"})},getPendingReviews(e=0,t=10){return this.request(`/reviews/pending?page=${e}&size=${t}`)},approveReview(e){return this.request(`/reviews/${e}/approve`,{method:"POST"})},rejectReview(e){return this.request(`/reviews/${e}/reject`,{method:"POST"})}};window.api=O;window.isLoggedIn=function(){return localStorage.getItem("isLoggedIn")==="true"};window.isAdmin=function(){return localStorage.getItem("userRole")==="ADMIN"&&window.isLoggedIn()};window.getJwtToken=function(){return localStorage.getItem("jwtToken")};var l=null,g=!1,m=null,b=["romantic","wedding","spring","birthday"],k={romantic:"\u0420\u043E\u043C\u0430\u043D\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0435",wedding:"\u0421\u0432\u0430\u0434\u0435\u0431\u043D\u044B\u0435",spring:"\u0412\u0435\u0441\u0435\u043D\u043D\u0438\u0435",birthday:"\u0414\u0435\u043D\u044C \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F"},$={romantic:["romantic","\u0440\u043E\u043C\u0430\u043D\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0435","romance"],wedding:["wedding","\u0441\u0432\u0430\u0434\u0435\u0431\u043D\u044B\u0435"],spring:["spring","\u0432\u0435\u0441\u0435\u043D\u043D\u0438\u0435"],birthday:["birthday","\u0434\u0435\u043D\u044C-\u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F","\u0434\u0435\u043D\u044C \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F"]};document.addEventListener("DOMContentLoaded",async()=>{if(!isAdmin()){window.location.href="../other/login.html";return}l=new URLSearchParams(window.location.search).get("id"),g=!!l,await M(),g?(document.getElementById("page-title").textContent="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0442\u043E\u0432\u0430\u0440\u0430",document.getElementById("delete-btn").style.display="block",await N(l)):document.getElementById("page-title").textContent="\u041D\u043E\u0432\u044B\u0439 \u0442\u043E\u0432\u0430\u0440",document.getElementById("product-form").addEventListener("submit",D),document.getElementById("name").addEventListener("input",()=>{let o=document.getElementById("name").value.toLowerCase().replace(/[^a-zа-яё0-9\s]/gi,"").replace(/\s+/g,"-");document.getElementById("slug").value=o}),document.getElementById("images").addEventListener("input",p),document.getElementById("upload-images-btn").addEventListener("click",R)});async function M(){try{let e=[];try{e=await api.getAdminCategories()}catch{}if(!Array.isArray(e)||e.length===0)try{e=await api.getCategories()}catch{}if(!Array.isArray(e)||e.length===0)try{let r=await api.getProducts(),a=r?.content||r||[],d=new Map;a.forEach(c=>{c?.category?.id&&!d.has(c.category.id)&&d.set(c.category.id,c.category)}),e=Array.from(d.values())}catch{e=[]}let t=new Map(e.filter(r=>r&&r.slug).map(r=>[String(r.slug).toLowerCase(),r])),o=b.map(r=>($[r]||[r]).map(d=>t.get(d)).find(Boolean)).filter(Boolean).map(r=>({id:r.id,name:k[b.find(a=>($[a]||[]).includes(String(r.slug).toLowerCase()))]||r.name})),n=new Set(o.map(r=>r.id)),s=e.filter(r=>r&&r.id&&!n.has(r.id)).map(r=>({id:r.id,name:r.name}));o.length===0?o=s:o=[...o,...s];let i=document.getElementById("categoryId");i.innerHTML='<option value="">\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044E</option>'+o.map(r=>`<option value="${r.id}">${r.name}</option>`).join(""),m&&(i.value=String(m))}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0439:",e)}}async function N(e){try{let t=await api.getProductById(e);document.getElementById("name").value=t.name,document.getElementById("slug").value=t.slug||"",document.getElementById("price").value=t.price,document.getElementById("oldPrice").value=t.oldPrice||"",m=t.category?.id||"",document.getElementById("categoryId").value=m?String(m):"",document.getElementById("composition").value=t.composition||"",document.getElementById("description").value=t.description||"",document.getElementById("isHit").checked=t.isHit||!1,document.getElementById("isNew").checked=t.isNew||!1;let n=(t.images||[]).map(s=>s.imagePath).join(`
`);document.getElementById("images").value=n,p()}catch(t){showToast("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0442\u043E\u0432\u0430\u0440","error"),console.error(t)}}function p(){let e=document.getElementById("image-preview"),t=document.getElementById("images").value.trim();if(!t){e.innerHTML="";return}let o=t.split(`
`).filter(n=>n.trim());e.innerHTML=o.map((n,s)=>`
        <div class="image-preview-item ${s===0?"main":""}" 
             style="background-image: url('${window.resolveAssetUrl?window.resolveAssetUrl(n.trim()):n.trim()}')"
             title="${s===0?"\u0413\u043B\u0430\u0432\u043D\u043E\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435":""}"></div>
    `).join("")}async function D(e){e.preventDefault();let t=document.getElementById("images").value.trim(),o=t?t.split(`
`).map(s=>({imagePath:s.trim(),isMain:!1})):[];o.length>0&&(o[0].isMain=!0);let n={name:document.getElementById("name").value.trim(),slug:document.getElementById("slug").value.trim(),price:parseFloat(document.getElementById("price").value),oldPrice:parseFloat(document.getElementById("oldPrice").value)||null,categoryId:parseInt(document.getElementById("categoryId").value),composition:document.getElementById("composition").value.trim(),description:document.getElementById("description").value.trim(),isHit:document.getElementById("isHit").checked,isNew:document.getElementById("isNew").checked,images:o};try{if(g)await api.updateProduct(l,n),showToast("\u0422\u043E\u0432\u0430\u0440 \u043E\u0431\u043D\u043E\u0432\u043B\u0451\u043D","success");else{let s=await api.createProduct(n);if(showToast("\u0422\u043E\u0432\u0430\u0440 \u0441\u043E\u0437\u0434\u0430\u043D","success"),l=s?.id||l,l){g=!0,document.getElementById("page-title").textContent="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0442\u043E\u0432\u0430\u0440\u0430";let i=document.getElementById("delete-btn");i&&(i.style.display="block");let r=new URL(window.location.href);r.searchParams.set("id",l),window.history.replaceState({},"",r.toString())}}}catch(s){showToast(s.message||"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0442\u043E\u0432\u0430\u0440","error")}}async function R(){if(!g){showToast("\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u0435 \u0442\u043E\u0432\u0430\u0440","error");return}let e=document.getElementById("image-files"),t=Array.from(e.files||[]);if(t.length===0){showToast("\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B","error");return}let o=document.getElementById("images"),n=!o.value.trim();for(let s of t)try{let i=await api.uploadProductImage(l,s,n);o.value=(o.value.trim()?o.value.trim()+`
`:"")+i.imagePath,n=!1}catch(i){showToast(i.message||"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B","error");return}e.value="",p(),showToast("\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B","success")}window.deleteProduct=async function(){if(confirm("\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u043E\u0442 \u0442\u043E\u0432\u0430\u0440?"))try{await api.deleteProduct(l),showToast("\u0422\u043E\u0432\u0430\u0440 \u0443\u0434\u0430\u043B\u0451\u043D","success"),setTimeout(()=>{window.location.href="admin.html#products"},1e3)}catch(e){showToast(e.message,"error")}};})();
